library(tidyverse)
matches <- read_csv("https://raw.githubusercontent.com/dwillis/NCAAWomensSoccerData/refs/heads/main/data/ncaa_womens_soccer_matchstats_2024.csv")
matches <- matches |> mutate(goal_diff = team_score - opponent_score)
matches <- matches |> mutate(goal_diff = team_score - opponent_score)
matches <- matches |> mutate(goal_diff = team_score - opponent_score)
matches |> summarize(correlation = cor(fouls, goal_diff, method="pearson"))
matches |>
ggplot() +
geom_point(aes(x=goal_diff, y=fouls)) +
geom_smooth(aes(x=goal_diff, y=fouls), method="lm")
library(tidyverse)
matches <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/gdp_djia.csv")
correlation <- ggplot(gdp_data$GDP, gdp_data$DJIA, method="pearson")
correlation <- gdpplot(gdp_data$GDP, gdp_data$DJIA, method="pearson")
cor(data$DJIA, data$GDP, use = "person")
cor(data$DJIA, data$GDP, use = "complete.obs")
cor(data$DJIA, data$GDP, use = "complete.obs")
cor(DJIA$hp, GDP.$mpg)
cor(dat$hp, dat$mpg,
method = "spearman"
)
cor(gdp_djia$DJIA, gdp_djia$GDP, use = "complete.obs")
cor(gdp_djia$DJIA, gdp_djia$GDP, use = "complete.obs")
matches <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/gdp_djia.csv")
head(gdp_djia)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
aptitude <- c(45, 81, 65, 87, 68, 91, 77, 61, 55, 66, 82, 93, 76, 83, 61, 74)
performance <- c(56, 74, 56, 81, 75, 84, 68, 52, 57, 82, 73, 90, 67, 79, 70, 66)
consultant <- c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)
#this builds our table
consultants <- data.frame(consultant, aptitude, performance)
consultants
consultants |> summarize(correlation = cor(aptitude, performance, method="pearson"))
matches <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/gdp_djia.csv")
consultants |>
ggplot() +
geom_point(aes(x=aptitude, y=performance)) +
geom_smooth(aes(x=aptitude, y=performance), method="lm") +
expand_limits(x = 0, y = 0)
library(tidyverse)
library(tidyverse)
matches |>
summarize(correlation = cor(DJIA, GDP, method = "pearson"))
matches |>
ggplot(aes(x = GDP, y = DJIA)) +
geom_point(color = "steelblue", size = 3) +
geom_smooth(method = "lm", se = FALSE, color = "red") +
labs(
title = "Relationship Between U.S. GDP and DJIA (2013–2024)",
x = "Gross Domestic Product (in trillions USD)",
y = "Dow Jones Industrial Average"
) +
theme_minimal()
matches |>
ggplot(aes(x = GDP, y = DJIA)) +
geom_point(color = "steelblue", size = 3) +
geom_smooth(method = "lm", se = FALSE, color = "black") +
labs(
title = "Relationship Between U.S. GDP and DJIA (2013–2024)",
x = "Gross Domestic Product (in trillions USD)",
y = "Dow Jones Industrial Average"
) +
theme_minimal()
matches |>
ggplot(aes(x = GDP, y = DJIA)) +
geom_point(color = "steelblue", size = 3) +
geom_smooth(method = "lm", se = FALSE, color = "black") +
labs(
title = "Relationship Between U.S. GDP and DJIA (2013–2024)",
x = "Gross Domestic Product",
y = "Dow Jones Industrial Average"
) +
theme_minimal()
matches |>
ggplot(aes(x = GDP, y = DJIA)) +
geom_point(color = "steelblue", size = 5) +
geom_smooth(method = "lm", se = FALSE, color = "black") +
labs(
title = "Relationship Between U.S. GDP and DJIA (2013–2024)",
x = "Gross Domestic Product",
y = "Dow Jones Industrial Average"
) +
theme_minimal()
matches |>
ggplot(aes(x = GDP, y = DJIA)) +
geom_point(color = "steelblue", size = 3) +
geom_smooth(method = "lm", se = FALSE, color = "black") +
labs(
title = "Relationship Between U.S. GDP and DJIA (2013–2024)",
x = "Gross Domestic Product",
y = "Dow Jones Industrial Average"
) +
theme_minimal()
consultants |>
ggplot() +
geom_point(aes(x=aptitude, y=performance)) +
geom_smooth(aes(x=aptitude, y=performance), method="lm") +
expand_limits(x = 0, y = 0)
pg_murder_temps <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/pg_murder_temps.csv")
pg_murder_temps
pg_murder_temps |>
summarize(correlation = cor(murders, temperature, method = "pearson"))
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "blue", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "red") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
consultants |>
ggplot() +
geom_point(aes(x=aptitude, y=performance)) +
geom_smooth(aes(x=aptitude, y=performance), method="lm") +
expand_limits(x = 0, y = 0)
pg_murder_temps |>
ggplot() +
geom_point(aes(x=aptitude, y=performance)) +
geom_smooth(aes(x=aptitude, y=performance), method="lm") +
expand_limits(x = 0, y = 0)
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "blue", size = 5) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "red") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "pink", size = 5) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "green") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "pink", size = 5) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "purple") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 5) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
)
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = ) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = ) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = ) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink")
) +
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 3) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
pg_murder_temps |>
ggplot(aes(x = temperature, y = murders, label = month)) +
geom_point(color = "purple", size = 5) +
geom_text(vjust = -1) +
geom_smooth(method = "lm", se = FALSE, color = "pink") +
labs(
title = "Relationship Between Temperature and Murders in Prince George's County",
x = "Average Temperature (°F)",
y = "Number of Murders"
) +
theme_minimal()
knitr::opts_chunk$set(echo = TRUE)
options(scipen=999)
library(tidyverse)
# Known information about home values before the transit line
prior_mean <- 285000  # average home value
prior_sd <- 32000     # standard deviation
# Home sale prices after the transit line opened (14 homes)
new_prices <- c(297000, 305000, 292000, 318000, 290000, 311000, 299000,
325000, 302000, 288000, 307000, 315000, 320000, 294000)
# Create a journalist-friendly dataset
home_data <- tibble(
sale_id = 1:14,
sale_price = new_prices
)
# View the data
home_data
# Calculate statistics on the new home price data
new_stats <- home_data |>
summarise(
mean = mean(sale_price),
sd = sd(sale_price),
n = n(),
min = min(sale_price),
max = max(sale_price)
)
new_stats
# Function to format currency values
dollar_format <- function(x) {
paste0("$", format(x/1000, big.mark=","), "K")
}
# Create a visualization of home prices with reference to previous average
ggplot(home_data, aes(x = reorder(sale_id, sale_price), y = sale_price)) +
geom_col(fill = "seagreen", alpha = 0.8) +
geom_hline(yintercept = prior_mean, color = "darkred", size = 1, linetype = "dashed") +
annotate("text", x = 3, y = prior_mean - 8000,
label = "Previous Average ($285K)", hjust = 0, fontface = "bold", color = "darkred") +
scale_y_continuous(labels = dollar_format) +
labs(
title = "Home Sales After Transit Line",
subtitle = "Horizontal line shows previous neighborhood average of $285,000",
x = "Recent Home Sales",
y = "Sale Price",
caption = "Source: County Property Records"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10),
axis.text.x = element_blank(),
axis.ticks.x = element_blank()
)
# Perform a one-sample t-test
# Since we want to know if home values increased, we use a one-sided test (alternative = "greater")
t_test_result <- t.test(
home_data$sale_price,
mu = prior_mean,
alternative = "greater"
)
# Display the results
t_test_result
p_value <- t_test_result$p.value
format(p_value, scientific = FALSE)
# Extract the p-value
p_value <- t_test_result$p.value
# Calculate the 95% confidence interval
ci <- t.test(home_data$sale_price)$conf.int
# Format and display the confidence interval in a readable way
ci_formatted <- tibble(
`Lower bound` = dollar_format(ci[1]),
`Upper bound` = dollar_format(ci[2]),
`Confidence level` = "95%"
)
# Display as a nice table
ci_formatted
# Set our significance level
alpha <- 0.05
# Compare and make a decision
if(p_value < alpha) {
conclusion <- "The data provides statistical evidence supporting the claim that the transit line has increased home values."
} else {
conclusion <- "The data does not provide strong statistical evidence that the transit line has increased home values."
}
# Create a tibble to display the key statistics for your story
story_stats <- tibble(
`Previous average` = dollar_format(prior_mean),
`New average` = dollar_format(mean(new_prices)),
`Increase` = dollar_format(mean(new_prices) - prior_mean),
`Percent change` = paste0(round(((mean(new_prices) - prior_mean) / prior_mean) * 100, 1), "%"),
`p-value` = p_value,
p_value_formatted = format(p_value, scientific = FALSE),
`Statistically significant?` = if_else(p_value < alpha, "Yes", "No")
)
# Display the key statistics
story_stats
print(conclusion)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
# Known information about reading scores before the new program
prior_mean <- REPLACE_ME  # average score
# Known information about reading scores before the new program
prior_mean <-72.6  # average score
prior_sd <- 4.8     # standard deviation
# Reading scores after implementing the new program (12 classrooms)
new_scores <- c(74, 76, 73, 75, 78, 77, 74, 79, 75, 76, 77, 75) # Replace with the actual scores
# Create a journalist-friendly dataset
score_data <- tibble(
classroom = paste("Classroom", 1:12),
reading_score = new_scores
)
# View the data
score_data
# Calculate statistics based on the new reading scores
new_stats <- score_data |>
summarise(
mean = mean(reading_score),
sd = sd(reading_score),
n = n()
)
new_stats
# STUDENT TASK: Choose an appropriate fill color for the bars
my_fill_color <- "blue" # Replace with a color name like "royalblue", "darkgreen", etc.
# Create a visualization comparing new scores to the previous average
score_data |>
ggplot(aes(x = classroom, y = reading_score)) +
geom_col(fill = my_fill_color, alpha = 0.8) +
geom_hline(yintercept = prior_mean, color = "darkred", size = 1, linetype = "dashed") +
annotate("text", x = 2, y = prior_mean - 1,
label = "Previous Average (72.6)",  hjust = -0.5, vjust= 2, fontface = "bold", color = "darkred") +
labs(
title = "Reading Scores After New Program Implementation",
subtitle = "Horizontal line shows previous district average of 72.6 points",
x = NULL,
y = "Reading Test Score",
caption = "Source: District Assessment Data"
) +
theme_minimal() +
theme(
plot.title = element_text(face = "bold", size = 14),
plot.subtitle = element_text(size = 10),
axis.text.x = element_text(angle = 45, hjust = 1)
)
# Set the significance level for your test
alpha_level <- 0.05 # Replace with the appropriate value
# Perform a one-sample t-test
# Since we want to know if scores improved (increased), we use a one-sided test (alternative = "greater")
t_test_result <- t.test(
score_data$reading_score,
mu = prior_mean,
alternative = "greater"
)
# Display the results
t_test_result
# Get the p-value
p_value <- t_test_result$p.value
# Calculate the 95% confidence interval
ci <- t.test(score_data$reading_score)$conf.int
# Create a tibble to display the key statistics for your story
story_stats <- tibble(
`Previous average` = prior_mean,
`New average` = mean(REPLACE_ME),
`Improvement` = mean(new_scores) - prior_mean,
`Percent change` = round(((mean(new_scores) - prior_mean) / prior_mean) * 100, 1),
`p-value` = p_value,
`Lower bound` = ci[1],
`Upper bound` = ci[2],
`Confidence level` = "95%"
)
# Get the p-value
p_value <- t_test_result$p.value
# Calculate the 95% confidence interval
ci <- t.test(score_data$reading_score)$conf.int
# Create a tibble to display the key statistics for your story
story_stats <- tibble(
`Previous average` = prior_mean,
`New average` = mean(new_scores),
`Improvement` = mean(new_scores) - prior_mean,
`Percent change` = round(((mean(new_scores) - prior_mean) / prior_mean) * 100, 1),
`p-value` = p_value,
`Lower bound` = ci[1],
`Upper bound` = ci[2],
`Confidence level` = "95%"
)
# Display the key statistics
story_stats
