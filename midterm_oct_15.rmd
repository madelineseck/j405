---
title: "midterm_key_oct_8"
author: "Rob Wells"
date: "2025-10-15"
output: html_document
#Madeline Seck 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# JOUR405: Statistics for Journalists
## Midterm Exam - Fall 2025

For this exam, you'll analyze several datasets using R and the statistical concepts we've covered in class. Load the tidyverse before beginning, then complete each task. Write your code in the provided blocks and answer the questions in complete sentences.

# Load tidyverse
```{r}
library(tidyverse)
```

## Part 1: Restaurant Health Inspections (25 points)

The first dataset contains restaurant health inspection scores from Montgomery County. Load the data from: `https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/montco_inspections.csv`

The dataset includes the name of the establishment, the number of points for critical and non-critical areas, the total points, maximum points possible and the compliance score and grade.

## Task 1: Read the data**
```{r}
inspections <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/montco_inspections.csv")

view(inspections)

#your code here
```


## Task 2: Calculate the mean and standard deviation maximum and minimum of compliance scores. Put the results in a new dataframe called "compliance_stats." 
```{r}
compliance_stats <- inspections %>%
  summarise(
    mean_score = mean(compliance_score, na.rm = TRUE),
    sd_score = sd(compliance_score, na.rm = TRUE),
    min_score = min(compliance_score, na.rm = TRUE),
    max_score = max(compliance_score, na.rm = TRUE)
  )

# View the new dataframe
compliance_stats

```

## Task 3: Create a histogram of the compliance scores with a vertical line showing the mean. Include a headline. Include a headline and label the x and y axes.
```{r}
ggplot(inspections, aes(x = compliance_score)) +
  geom_histogram(binwidth = 5, fill = "blue", color = "black") + 
  geom_vline(aes(xintercept = mean(compliance_score, na.rm = TRUE)), 
             color = "red", linetype = "dashed", size = 1) +
  labs(
    title = "Compliance Scores in Montgomery County",
    x = "Compliance Score",
    y = "Number of Restaurants"
  ) +
  theme_minimal()
```

## Task 4: Write 2-3 sentences interpreting what the standard deviation and histogram tell us about the distribution of compliance scores. What would be newsworthy about this distribution? What's the story here? 

**Write your answer here:**
#This histogram shows some restaurant compliance scores being high, but some are pretty low. A story here would be the restaurant failing inspections and why

## Part 2: High School Athletics (30 points)

The second dataset shows participation numbers in high school sports across Maryland counties in 2024, broken down by sport and gender. Load the data from: `https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/md_hs_participation.csv`

# Task 5: Load the high school participation data
```{r}
hs_participation <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/md_hs_participation.csv")

View(hs_participation)

```


#Task 6: Add two columns called total and girls_pct.  
Add two columns called total and girls_pct using mutate(), with the total adding together boys and girls and girls_pct being the percentage of the total represented by girls participants. 
```{r}
hs_participation <- hs_participation |> 
  mutate(
    total = boys + girls,
    girls_pct = (girls / total) * 100
  )

hs_participation

```

#Task 7: Calculate correlation between boys and girls participation
```{r}
correlation_bg <- cor(hs_participation$boys, hs_participation$girls, use = "complete.obs")

correlation_bg

```

#Task 8: Create a scatterplot showing this relationship, adding a line of best fit. Include a headline and label the x and y axes.
```{r}
hs_participation |> 
  ggplot(aes(x = boys, y = girls)) +
  geom_point(color = "blue", size = 5) +
  geom_smooth(method = "lm", se = FALSE, color = "black", linewidth = 1) +
  labs(
    title =  "Boys and Girls High School Sports",
    x = "Boys Participation",
    y = "Girls Participation"
  ) +
  theme_minimal()

```


# Task 9: In 2-3 sentences, explain what the correlation coefficient and scatterplot reveal about gender equity in Maryland high school sports participation. How do you interpret the school districts that are below the line vs those that are above? Which school districts are most worth examining further, and why? (10 points)

**Write your answer here:**
#There is a strong positive relationship, as the correlation coefficient is close to 1. School districts above the line have higher girl participation compared to boy participation, while districts below the line have lower girl participation than boy participation.


## Part 3: Maryland Car Theft Rates (25 points)

Your editor has assigned you a story about car thefts in Maryland and wants you to analyze the data to find out which counties have the highest rates. The fourth dataset contains car theft statistics for Maryland counties in 2023 and population. Load the data from: `https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/md_car_thefts.csv` and complete the following tasks:

#Task 10: Load the car thefts data
```{r}

car_thefts <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/md_car_thefts.csv")
View(car_thefts)
```

#Task 11: Using mutate, add a column that calculates the rate of car thefts for each county - you need to choose the per capita rate 
```{r}

car_thefts <- car_thefts %>%
  mutate(
    population = as.numeric(population),
    theft_2023 = as.numeric(`2023`),   # ensure numeric
    theft_rate_per_1000 = (theft_2023 / population) * 1000
  )

```

#Task 12: Calculate the median car theft rate and the total number of car thefts statewide. Which counties have rates above the median? 
```{r}
median_theft_rate <- median(car_thefts$theft_rate_per_1000, na.rm = TRUE)
total_thefts_statewide <- sum(car_thefts$theft_2023, na.rm = TRUE)
counties_above_median <- car_thefts %>%
  filter(theft_rate_per_1000 > median_theft_rate) %>%
  select(county, theft_rate_per_1000)
median_theft_rate
total_thefts_statewide
counties_above_median
```


#Task 13: Write 2-3 sentences describing what these calculations reveal about the distribution of car thefts in Maryland. What's the lede of a story about your findings? 

#In 2023, Maryland recorded 23,871 car thefts, averaging about one (0.96) per 1,000 residents. Baltimore City and Prince George’s County reported the highest rates because of the higher urban and suburban populations.

#Lede: Prince George’s County and Baltimore City led the state of Maryland in per-capita auto thefts in 2023.

## Part 4: Data Analysis Scenario (20 points)

#Task 14: Essay Question.

You receive a tip that local emergency response times have gotten significantly worse over the past year. You obtain monthly data on response times for police, fire and ambulance calls.

Write 3-4 sentences explaining:
1. What statistical measures would you calculate to verify this claim? (10 points)
2. What visualizations would help readers understand the trends? (5 points)
3. What additional context or data would you need to make this a complete story? (5 points)

# To check if response times got worse over the past year, I would calculate the percent change from 2022 to 2023 to see how much incidents increased. To help readers visualize these trends, I would use a line graph with counties on the x-axis and number of incidents on the y-axis, showing one line for 2022 and another for 2023. Additional helpful information would include the population for 2022 and 2023.It would provide context for the changes in incident numbers.

### Submission Instructions
- Save your work frequently
- Make sure all code blocks run without errors
- Provide clear explanations for your analytical choices
- Submit both your code and written responses
- Load this test to GitHub and submit the link in Elms

Good luck!
